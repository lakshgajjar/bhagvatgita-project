<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bhagavad Gita in Hindi & English with Commentaries & Audio</title>
    <!-- bootstrap min css -->
    <link rel="stylesheet" href="./assets/CSS/bootstrap.min.css">
    <!-- bootstrap icon min css -->
    <link rel="stylesheet" href="./assets/CSS/bootstrap-icons.min.css">
    <!-- bootstrap-icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <!-- fonts css -->
    <link rel="stylesheet" href="./assets/CSS/font.css">
    <!-- favicon icon -->
    <link rel="icon" href="./assets/IMAGES/favicon-icon/bhagavad-gita-favicon-icon.webp">
    <!-- style css -->
    <style>
        body {
            font-family: 'Crimson Pro';
            background-color: #faf5f0;
            color: #2b2b2b;
        }
        .footer {
            font-family: 'Crimson Pro';
        }
        a {
            text-decoration: none;
            color: #000;
        }
        a:hover {
            color: #b4532a;
        }
        .navbar {
            background: #fff !important;
        }
        .logo-img img {
            width: 32px;
        }
        .logo-img a {
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        .chapter-des {
            font-size: 14px;
            color: #6c757d;
        }
        .chapter-box {
            background: #f3ede6;
            border-radius: 10px;
        }
        .chapter-box h2 {
            font-weight: 600;
        }
        #chapterMeaning {
            font-style: italic;
            color: #6b6b6b;
        }
        #totalVerses {
            font-size: 14px;
        }
        #chapterDiscussion {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            line-height: 1.7;
        }
        .verse {
            background: #fff;
            border-radius: 8px;
            padding: 16px 18px;
            margin-bottom: 15px;
        }
        .verse-number {
            font-weight: 600;
            color: #b4532a;
            margin-bottom: 6px;
        }
        .verse-text {
            font-size: 17px;
            line-height: 1.8;
        }
        #verseButtons button {
            border: none;
            background: #f3ede6;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        #verseButtons button:hover {
            background: #e4d6c9;
        }
        #prevBtn,
        #nextBtn {
            padding: 10px 18px;
        }
        .form-left-sec {
            padding: 48px;
        }
        .form-title h2 {
            color: #3D3929;
            font-size: 30px;
            font-family: var(--bs-description-font);
            margin: 0px 0px 18px;
        }
        .form-title p {
            color: #83827D;
            font-size: 18px;
            font-family: var(--bs-description-font);
            margin: 0px 0px 32px;
        }
        .footer-topbar {
            font-family: var(--bs-description-font);
        }
        .footer-title img {
            width: 23px;
            height: 27px;
        }
        .footer-title h4 {
            font-size: 20px;
            font-weight: 700;
        }
        .footer-main-title-sec p {
            font-size: 14px;
            color: #83827D;
            text-align: start;
            margin: 16px 0px 0px;
        }
        .footer-web-icon i {
            color: #83827D;
            margin: 16px 0px 0px;
        }
        .form-link-sec {
            text-align: start;
        }
        .form-link-sec h3 {
            font-size: 14px;
            color: #3D3929;
        }
        .form-link-sec ul li a {
            font-size: 14px;
            color: #83827D;
            text-align: start;
            margin: 8px 0px 0px;
        }
        .form-link-sec ul {
            padding: 0px;
        }
        .footer-leftside-title p {
            font-size: 14px;
            color: #83827D;
            font-family: var(--bs-description-font);
            text-align: left;
        }
        .footer-leftside-title p a {
            color: var(--bs-primary);
        }
        .footer-rightside-title a img {
            width: 140px;
            height: 40px;
        }
        .footer-downbar {
            padding: 32px 0px;
        }
        .footer-topbar {
            padding: 48px 0px 0px;
            border-top: 1px solid #e5e8ea;
            border-bottom: 1px solid #e5e8ea;
        }
    </style>
</head>

<body>
    <!-- header -->
    <header>
        <!-- navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light border border-bottom">
            <div class="container">
                <div class="logo-img fs-5 col-2">
                    <a href="./index.html"><img src="./assets/IMAGES/favicon-icon/bhagavad-gita-favicon-icon.webp"
                            class="mx-2" alt="">Bhagavad Gita</a>
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse col-10 justify-content-end" id="navbarSupportedContent">

                    <form class="sign-in d-flex align-items-center justify-content-between col-2">
                        <a href="#">
                            <i class="bi bi-search"></i>
                        </a>
                        <a href="#">
                            <i class="bi bi-moon"></i>
                        </a>
                        <button class="btn btn-outline-danger" type="submit"><i class="bi bi-person  px-1 py-1"></i>Sign
                            in</button>
                    </form>
                </div>
            </div>
        </nav>
    </header>
    <main class="py-4">
        <div class="container">

            <div class="chapter-des d-flex mb-3 align-items-center">
                <a href="#" class="me-2">Chapters</a>
                <span class="mx-2">›</span>
                <span id="crumb">Chapter 1</span>
            </div>

            <div class="chapter-box p-4 mb-4 rounded bg-light">
                <h2 id="chapterTitle" class="mb-1">Chapter 1</h2>
                <p id="chapterMeaning" class="text-muted mb-2"></p>
                <div id="totalVerses" class="small text-secondary"></div>
            </div>

            <div class="mb-5">
                <h5 class="mb-3">Chapter Summary</h5>
                <p id="chapterDiscussion"></p>
            </div>

            <div id="versesContainer" class="mb-5">
            </div>

            <div class="d-flex justify-content-between mt-4">
                <button id="prevBtn" class="btn btn-outline-secondary">
                    ← Previous Chapter
                </button>
                <button id="nextBtn" class="btn btn-outline-secondary">
                    Next Chapter →
                </button>
            </div>

        </div>
    </main>

    <footer>
        <!-- footer top bar -->
        <section class="footer-topbar ">
            <div class="container">
                <div class="row">
                    <div class="col-3">
                        <div class="footer-main-title-sec">
                            <div class="footer-title d-flex align-items-center">
                                <img src="./assets/IMAGES/favicon-icon/bhagavad-gita-favicon-icon.webp" alt="">
                                <h4>Bhagvad Gita</h4>
                            </div>
                            <p class="text-algin-start">Ancient wisdom for modern life</p>
                            <div class="footer-web-icon gap-3 d-flex">
                                <i class="bi bi-facebook"></i>
                                <i class="bi bi-twitter-x"></i>
                                <i class="bi bi-github"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-link-sec">
                            <h3>Quick Links</h3>
                            <ul>
                                <li><a href="#">Mobile App</a></li>
                                <li><a href="#">Gita AI</a></li>
                                <li><a href="#">Quotes</a></li>
                                <li><a href="#">Donate</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-link-sec">
                            <h3>Resources</h3>
                            <ul>
                                <li><a href="#">About Gita</a></li>
                                <li><a href="#">Characters</a></li>
                                <li><a href="#">Acknowledgements</a></li>
                                <li><a href="#">API</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="form-link-sec mb-5">
                            <h3>Legal & Contact</h3>
                            <ul>
                                <li><a href="#">Privacy</a></li>
                                <li><a href="#">Terms</a></li>
                                <li><a href="#">Copyright</a></li>
                                <li><a href="#">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- footer-downbar -->
        <section class="footer-downbar">
            <div class="container">
                <div class="row align-items-center justify-content-between">
                    <div class="col-4">
                        <div class="footer-leftside-title">
                            <p class="mb-0">
                                © 2025 Copyright:
                                <a href="#">Ved Vyas Foundation.</a>
                                <span>All rights reserved</span>
                            </p>
                        </div>
                    </div>
                    <div class="col-8">
                        <div class="footer-rightside-title d-flex justify-content-end">
                            <a href="#">
                                <img src="./assets/IMAGES/app-img/play_store.svg" alt="">
                            </a>
                            <a href="#">
                                <img src="./assets/IMAGES/app-img/app_store.svg" alt="">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </footer>
    <script src="./assets/JS/bootstrap.bundle.min.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        let chapterNumber = Number(params.get("chapter")) || 1;

        let chaptersData = [];
        let totalVerses = 0;

        const versesContainer = document.getElementById("versesContainer");
        const chapterDiscussion = document.getElementById("chapterDiscussion");
        const totalVersesEl = document.getElementById("totalVerses");
        const titleEl = document.getElementById("chapterTitle");
        const meaningEl = document.getElementById("chapterMeaning");
        const crumbEl = document.getElementById("crumb");

        async function loadChaptersList() {
            const res = await fetch("https://vedicscriptures.github.io/chapters");
            chaptersData = await res.json();
            loadChapter(chapterNumber);
        }

        async function loadChapter(chNum) {
            chapterNumber = Number(chNum);

            const chapter = chaptersData.find(
                c => c.chapter_number == chapterNumber
            );
            if (!chapter) return;

            totalVerses = chapter.verses_count;

            const chapterName =
                chapter.name_translated && chapter.name_translated !== ""
                    ? chapter.name_translated
                    : "";

            titleEl.textContent = chapterName
                ? `Chapter ${chapterNumber}: ${chapterName}`
                : `Chapter ${chapterNumber}`;

            crumbEl.textContent = `Chapter ${chapterNumber}`;

            meaningEl.textContent = chapter.name_meaning
                ? chapter.name_meaning
                : "";

            chapterDiscussion.textContent =
                chapter.summary?.en || "Summary not available.";

            versesContainer.innerHTML = "<p>Loading verses...</p>";

            let html = "";

            for (let i = 1; i <= totalVerses; i++) {
                const res = await fetch(
                    `https://vedicscriptures.github.io/slok/${chapterNumber}/${i}`
                );
                const d = await res.json();

                html += `
            <div class="verse">
                <div class="verse-number">Verse ${d.verse}</div>
                <div class="verse-text">${d.slok}</div>
            </div>
        `;
            }

            versesContainer.innerHTML = html;

            toggleButtons();
        }

        document.getElementById("prevBtn").onclick = () => {
            if (chapterNumber > 1) loadChapter(chapterNumber - 1);
        };

        document.getElementById("nextBtn").onclick = () => {
            if (chapterNumber < chaptersData.length)
                loadChapter(chapterNumber + 1);
        };

        function toggleButtons() {
            document.getElementById("prevBtn").disabled = chapterNumber <= 1;
            document.getElementById("nextBtn").disabled =
                chapterNumber >= chaptersData.length;
        }

        loadChaptersList();
    </script>


</body>

</html>